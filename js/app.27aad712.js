(function(e){function t(t){for(var o,s,l=t[0],c=t[1],i=t[2],u=0,p=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,l=1;l<a.length;l++){var c=a[l];0!==n[c]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},n={app:0},r=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/ss-object-map/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";var o=a("85ec"),n=a.n(o);n.a},"220f":function(e,t,a){},"85ec":function(e,t,a){},c4e2:function(e,t,a){"use strict";var o=a("220f"),n=a.n(o);n.a},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("obj-map")],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mapcontainer"},[a("div",{ref:"mapbase",attrs:{id:"mapbase"}}),a("div",{ref:"sidebar",staticClass:"leaflet-sidebar collapsed",attrs:{id:"sidebar"}},[e._m(0),a("div",{staticClass:"leaflet-sidebar-content",attrs:{id:"sitebar-content"}},[a("div",{staticClass:"leaflet-sidebar-pane",attrs:{id:"search"}},[a("h1",{staticClass:"sidebar-header"},[e._v(" Filter ")]),a("div",{staticClass:"map-filter-section"},[a("h2",[e._v("Stage")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.currentStageID,expression:"currentStageID"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentStageID=t.target.multiple?a:a[0]}}},e._l(e.allStageIDs,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+": "+e._s(e.stageIDToName(t))+" ")])})),0)]),a("div",[a("h2",[e._v("Search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}})]),a("div",{staticStyle:{display:"flex"}},e._l(e.allObjTypes,(function(t){return a("div",{key:t.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"objType.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:[function(a){var o=t.selected,n=a.target,r=!!n.checked;if(Array.isArray(o)){var s=null,l=e._i(o,s);n.checked?l<0&&e.$set(t,"selected",o.concat([s])):l>-1&&e.$set(t,"selected",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(t,"selected",r)},e.onSelectionUpdate]}}),e._v(e._s(t.id)+" ")])})),0),a("div",[a("table",{staticStyle:{width:"50%",float:"left"}},[a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.allRoomsSelected,expression:"allRoomsSelected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allRoomsSelected)?e._i(e.allRoomsSelected,null)>-1:e.allRoomsSelected},on:{change:function(t){var a=e.allRoomsSelected,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);o.checked?s<0&&(e.allRoomsSelected=a.concat([r])):s>-1&&(e.allRoomsSelected=a.slice(0,s).concat(a.slice(s+1)))}else e.allRoomsSelected=n}}})]),a("td",[e._v(" Toggle all Rooms ")])]),e._l(e.allUsedRooms,(function(t){return a("tr",{key:t.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"room.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:[function(a){var o=t.selected,n=a.target,r=!!n.checked;if(Array.isArray(o)){var s=null,l=e._i(o,s);n.checked?l<0&&e.$set(t,"selected",o.concat([s])):l>-1&&e.$set(t,"selected",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(t,"selected",r)},e.onSelectionUpdate]}})]),a("td",[e._v(" "+e._s(-1===t.id?"-":t.id)+" ")])])}))],2),a("table",[a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.allLayersSelected,expression:"allLayersSelected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allLayersSelected)?e._i(e.allLayersSelected,null)>-1:e.allLayersSelected},on:{change:function(t){var a=e.allLayersSelected,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);o.checked?s<0&&(e.allLayersSelected=a.concat([r])):s>-1&&(e.allLayersSelected=a.slice(0,s).concat(a.slice(s+1)))}else e.allLayersSelected=n}}})]),a("td",[e._v(" Toggle all Layers ")])]),e._l(e.allUsedLayers,(function(t){return a("tr",{key:t.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"layer.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:[function(a){var o=t.selected,n=a.target,r=!!n.checked;if(Array.isArray(o)){var s=null,l=e._i(o,s);n.checked?l<0&&e.$set(t,"selected",o.concat([s])):l>-1&&e.$set(t,"selected",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(t,"selected",r)},e.onSelectionUpdate]}})]),a("td",[e._v(" "+e._s(t.id)+" ")])])}))],2)])]),a("div",{staticClass:"leaflet-sidebar-pane",attrs:{id:"details"}},[a("h1",[e._v("Details")]),a("pre",{staticClass:"object-info"},[e._v(e._s(e.objectInfo))]),e.eventLink?a("a",{attrs:{href:e.eventLink,target:"_blank"}},[e._v("Link to Event")]):e._e(),a("br"),e.dropTables.length?a("div",[a("div",{staticClass:"drop-influencers"},[e.dropTablesHaveProp(e.dropTables,"hasBow")?a("button",{on:{click:function(){return e.hasBow=!e.hasBow}}},[e._v(e._s(e.hasBow?"Bow":"No Bow"))]):e._e(),e.dropTablesHaveProp(e.dropTables,"hasSlingshot")?a("button",{on:{click:function(){return e.hasSlingshot=!e.hasSlingshot}}},[e._v(e._s(e.hasSlingshot?"Slingshot":"No Slingshot"))]):e._e(),e.dropTablesHaveProp(e.dropTables,"isHeroMode")?a("button",{on:{click:function(){return e.isHeroMode=!e.isHeroMode}}},[e._v(e._s(e.isHeroMode?"Hero Mode":"Normal Mode"))]):e._e(),e.dropTablesHaveProp(e.dropTables,"hasBombs")?a("button",{on:{click:function(){return e.hasBombs=!e.hasBombs}}},[e._v(e._s(e.hasBombs?"Bombs":"No Bombs"))]):e._e()]),e.processedDropRates?a("table",{staticClass:"droptable"},[e._m(1),a("tbody",e._l(e.processedDropRates,(function(t){var o=t[0],n=t[1];return a("tr",{key:o},[a("td",[e._v(e._s(o))]),a("td",[e._v(e._s(n)+"%")])])})),0)]):e._e()]):e._e()]),a("div",{staticClass:"leaflet-sidebar-pane",attrs:{id:"birdstatues"}},[a("h1",[e._v("Bird statues")]),a("div",[e._v("Overlay bird statues from different areas")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.allSaveObjSelected,expression:"allSaveObjSelected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allSaveObjSelected)?e._i(e.allSaveObjSelected,null)>-1:e.allSaveObjSelected},on:{change:function(t){var a=e.allSaveObjSelected,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);o.checked?s<0&&(e.allSaveObjSelected=a.concat([r])):s>-1&&(e.allSaveObjSelected=a.slice(0,s).concat(a.slice(s+1)))}else e.allSaveObjSelected=n}}}),e._v("Toggle all "),e._l(e.saveObjSelection,(function(t){return a("div",{key:t.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"area.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:[function(a){var o=t.selected,n=a.target,r=!!n.checked;if(Array.isArray(o)){var s=null,l=e._i(o,s);n.checked?l<0&&e.$set(t,"selected",o.concat([s])):l>-1&&e.$set(t,"selected",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(t,"selected",r)},e.onSaveObjSelectionUpdate]}}),e._v(e._s(t.id)+": "+e._s(e.stagenames[t.id])+" ")])}))],2)])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leaflet-sidebar-tabs"},[a("ul",{attrs:{role:"tablist"}},[a("li",[a("a",{attrs:{href:"#search",role:"tab"}},[a("i",{staticClass:"fa fa-search"})])]),a("li",[a("a",{attrs:{href:"#details",role:"tab"}},[a("i",{staticClass:"fa fa-database"})])]),a("li",[a("a",{attrs:{href:"#birdstatues",role:"tab"}},[a("i",{staticClass:"fas fa-kiwi-bird"})])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v("Item")]),a("th",[e._v("Chance")])])}],c=(a("99af"),a("4de4"),a("4160"),a("a630"),a("caad"),a("c975"),a("d81d"),a("b0c0"),a("4ec9"),a("4fad"),a("b64b"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("3835")),i=a("5530"),d=a("15fd"),u=a("d4ec"),p=a("bee2"),f=a("2caf"),y=a("262e"),h=a("9ab4"),v=a("1b40"),m=a("e11e"),S=(a("6cc5"),a("532d"),a("32c3"),{F000:"Skyloft: Skyloft",F001r:"Skyloft: Knight's Academy",F002r:"Skyloft: Beedle's Airshop",F004r:"Skyloft: Bazaar",F005r:"Skyloft: Orielle & Parrow’s House",F006r:"Skyloft: Repairman Kukiel’s House",F007r:"Skyloft: Piper’s House",F008r:"Skyloft: Inside the Statue of the Goddess",F009r:"Skyloft: Sparring Hall",F010r:"Skyloft: Isle of Songs Tower",F011r:"Skyloft: The Lumpy Pumpkin",F012r:"Skyloft: Demon Guy Batreaux’s House",F013r:"Skyloft: Fortune-teller Sparrot’s House",F014r:"Skyloft: Potion Shop Owner Bertie’s House",F015r:"Skyloft: Scrap Shop Owner Gondo’s House",F016r:"Skyloft: Pipit's House",F017r:"Skyloft: Gear Peddler Rupin’s House",F018r:"Skyloft: Item Check Girl Peatrice’s House",F019r:"Skyloft: Bamboo Island",F020:"The Sky: Sky Field",F021:"The Sky: Cutscene Sky",F023:"The Sky: Thunderhead",D000:"Skyloft: Waterfall Cave",D003_0:"Skyloft: Sky Keep R00 (Enemy)",D003_1:"Skyloft: Sky Keep R01 (Underground)",D003_2:"Skyloft: Sky Keep R02 (Lava)",D003_3:"Skyloft: Sky Keep R03 (Timeshift 2)",D003_4:"Skyloft: Sky Keep R04 (Timeshift 1)",D003_5:"Skyloft: Sky Keep R05 (ツタ系)",D003_6:"Skyloft: Sky Keep R06 (Captain 2)",D003_7:"Skyloft: Sky Keep R07 (Entrance)",D003_8:"Skyloft: Sky Keep R08 Tri Get",S000:"Skyloft: Town Silent Realm",F100:"Faron Woods: Faron Woods",F100_1:"Faron Woods: Inside the Great Tree",F101:"Faron Woods: Deep Woods",F102:"Faron Woods: Lake Floria",F102_1:"Faron Woods: Outside Ancient Cistern",F102_2:"Faron Woods: Faron's Lair",F103:"Faron Woods: Faron Woods (Flooded)",F103_1:"Faron Woods: Forest F3 (Tree Interior)",D100:"Faron Woods: Skyview Temple",D101:"Faron Woods: Ancient Cistern",B100:"Faron Woods: Forest Boss (R00 Ghirahim)",B100_1:"Faron Woods: After Forest Boss (R00 Skyview Spring)",B101:"Faron Woods: Forest Boss (Asura)",B101_1:"Faron Woods: Farore's Candle Room",S100:"Faron Woods: Forest Silent Realm",F200:"Eldin Volcano: Eldin Volcano",F201_1:"Eldin Volcano: Inside Volcano",F201_2:"Eldin Volcano: Volcano F3 (Crater)",F201_3:"Eldin Volcano: Fire Sanctuary Entrance",F201_4:"Eldin Volcano: Volcano Summit - Waterfall",F202:"Eldin Volcano: Volcano F3",F202_1:"Eldin Volcano: Volcano F3 (Fire Dragon Dummy 1)",F202_2:"Eldin Volcano: Volcano F3 (Fire Dragon Dummy 2)",F202_3:"Eldin Volcano: Volcano F3 Completed (Fire Dragon Dummy 1)",F202_4:"Eldin Volcano: Volcano F3 Completed (Fire Dragon Dummy 2)",F210:"Eldin Volcano: Caves",F211:"Eldin Volcano: Thrill Digger",F221:"Eldin Volcano: Volcano F2 (Fire Dragon Room)",D200:"Eldin Volcano: Earth Temple",D201:"Eldin Volcano: Fire Sanctuary (A)",D201_1:"Eldin Volcano: Fire Sanctuary (B)",B200:"Eldin Volcano: Volcano D1 Boss",B201:"Eldin Volcano: Volcano D2 Boss (Ghirahim 2nd Fight)",B201_1:"Eldin Volcano: Volcano D2 Boss (Din's Fire)",B210:"Eldin Volcano: Volcano D1 Boss (Earth Spring)",S200:"Eldin Volcano: Mountain Silent Realm",F300:"Lanayru Desert: Lanayru Desert",F300_1:"Lanayru Desert: Lanayru Mine",F300_2:"Lanayru Desert: Power Generator #1",F300_3:"Lanayru Desert: Power Generator #2",F300_4:"Lanayru Desert: Temple of Time",F300_5:"Lanayru Desert: LMF to ToT",F301:"Lanayru Desert: Sand Sea Docks",F301_1:"Lanayru Desert: Sand Sea",F301_2:"Lanayru Desert: Pirate Stronghold",F301_3:"Lanayru Desert: Skipper's Retreat",F301_4:"Lanayru Desert: Shipyard",F301_5:"Lanayru Desert: Skipper's Retreat Shack",F301_6:"Lanayru Desert: Desert F2 Timeshift Island",F301_7:"Lanayru Desert: Shipyard Construction Bay",F302:"Lanayru Desert: Lanayru Gorge",F303:"Lanayru Desert: Lanayru Caves",D300:"Lanayru Desert: Lanayru Mining Facility (A)",D300_1:"Lanayru Desert: Lanayru Mining Facility (B)",D301:"Lanayru Desert: Sandship (A)",D301_1:"Lanayru Desert: Sandship (B)",B300:"Lanayru Desert: Desert Boss 00 (Moldarach)",B301:"Lanayru Desert: Desert Boss Kraken",S300:"Lanayru Desert: Sand Silent Realm",F400:"Sealed Grounds: Forest",F401:"Sealed Grounds: Whirlpool",F402:"Sealed Grounds: Temple",F403:"Sealed Grounds: Whirlpool (Past)",F404:"Sealed Grounds: Temple (Past)",F405:"Sealed Grounds: Whirlpool (Cutscene)",F406:"Sealed Grounds: Whirlpool (With Statue)",F407:"Sealed Grounds: Temple (Cutscene)",B400:"Sealed Grounds: Last Boss",Demo:"Staff Roll"}),b={F300_4:"F300",D300_1:"D300",D201_1:"D201",F401:"F400",F402:"F400",F405:"F400",F406:"F400",F407:"F400",F023:"F020",F102:"F102_1",F102_2:"F102_1",F202:"F200"},F={F000:new m["LatLngBounds"]([[-28193,-23731],[31161,8639]]),F020:new m["LatLngBounds"]([[-226e3,-155e3],[17e4,115e3]]),F100:new m["LatLngBounds"]([[-21898,-14800],[20136,17743]]),F101:new m["LatLngBounds"]([[-9400,-11100],[6700,22500]]),F102_1:new m["LatLngBounds"]([[-15405,-13586],[18790,25448]]),F200:new m["LatLngBounds"]([[-12660,-29967],[16992,11400]]),F300:new m["LatLngBounds"]([[-43690,-19041],[20005,27192]]),F301_1:new m["LatLngBounds"]([[-149900,-47200],[9600,59e3]]),F301_2:new m["LatLngBounds"]([[-2975,-14494],[8920,771]]),F301_3:new m["LatLngBounds"]([[-7200,-10300],[5050,13690]]),F301_4:new m["LatLngBounds"]([[-4e4,-18800],[20800,21750]]),F301_6:new m["LatLngBounds"]([[-4e3,-11700],[4500,3778]]),F301:new m["LatLngBounds"]([[-5150,-10366],[21e3,7200]]),F302:new m["LatLngBounds"]([[-12500,-11800],[16500,18300]]),F303:new m["LatLngBounds"]([[-11999,-7700],[12300,7200]]),F400:new m["LatLngBounds"]([[-24480,-7400],[8890,16400]]),S000:new m["LatLngBounds"]([[-28193,-23731],[31161,8639]]),S100:new m["LatLngBounds"]([[-21898,-14800],[20136,17743]]),S200:new m["LatLngBounds"]([[-12660,-29967],[16992,11400]]),S300:new m["LatLngBounds"]([[-43690,-19041],[20005,27192]]),D003_7:new m["LatLngBounds"]([[-3674,-3500],[4206,4054]]),D100:new m["LatLngBounds"]([[-13293,-19437],[11604,8500]]),D101:new m["LatLngBounds"]([[-19314,-12512],[13400,7700]]),D200:new m["LatLngBounds"]([[-16617,-19520],[14212,16265]]),D201:new m["LatLngBounds"]([[-14526,-22625],[11844,8033]]),D300:new m["LatLngBounds"]([[-11593,-26863],[12906,3946]]),D301:new m["LatLngBounds"]([[-12150,-4120],[8800,4090]])},g="/ss-object-map/",_=function(e){Object(y["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(u["a"])(this,a),e=t.apply(this,arguments),e.allStageIDs=Array.from(Object.keys(S).sort()),e.allUsedLayers=[],e.allUsedRooms=[],e.allObjTypes=["AREA","DOOR","OBJ ","OBJS","SNDT","SOBJ","SOBS","STAG","STAS"].map((function(e){return{id:e,selected:!0}})),e.searchTerm="",e.currentStageID="F000",e.allRoomsSelected=!0,e.allLayersSelected=!0,e.allSaveObjSelected=!1,e.saveObjSelection=[],e.saveObjMarkers={},e.objColorMap=new Map,e.iconList=Array.from(Array(12).keys()).map((function(e){return m["divIcon"]({className:"div-icon".concat(e)})})),e.objectInfo="",e.dropTables=[],e.hasBow=!1,e.hasSlingshot=!1,e.isHeroMode=!1,e.hasBombs=!1,e.eventLink=null,e.currentStageMarkers=[],e.mapOverlay=null,e.stagenames=S,e}return Object(p["a"])(a,[{key:"mounted",value:function(){var e=this;this.map=new m["Map"](this.$refs.mapbase,{preferCanvas:!0,minZoom:-10,maxZoom:2,center:[0,0],zoom:-5,crs:m["CRS"].Simple}),this.sidebar=m["control"].sidebar({container:this.$refs.sidebar}).addTo(this.map),this.$watch("currentStageID",(function(){return e.onStageUpdate()}),{immediate:!0}),fetch("".concat(g,"birdstatues.json")).then((function(e){return e.json()})).then((function(t){for(var a in e.saveObjMarkers={},e.saveObjSelection=[],t){var o=t[a].map((function(t){var a=m["marker"]([t.posx,t.posz],{title:"".concat(t.stageid," ").concat((t.extra_info||{}).name," ").concat((t.extra_info||{}).scenef),icon:e.getIconForName(t.name)}).on("click",(function(t){e.showObjectInfo(t.target.object)}));return a.object=t,a}));e.saveObjMarkers[a]=o,e.saveObjSelection.push({id:a,selected:!1})}})).then((function(){var t=["F000","F400","F401","F402","F100","F101","F102","F102_1","F020"];e.saveObjSelection.sort((function(e,a){var o=t.indexOf(e.id),n=t.indexOf(a.id);return o==n?e.id.localeCompare(a.id):-1==o?1:-1==n?-1:o-n}))}))}},{key:"dropTablesHaveProp",value:function(e,t){var a;return Object.keys(null!==(a=e[0])&&void 0!==a?a:{}).includes(t)}},{key:"getIconForName",value:function(e){var t=this.objColorMap.get(e);return void 0===t&&(t=this.objColorMap.size%12,this.objColorMap.set(e,t)),this.iconList[t]}},{key:"getTitleForObj",value:function(e){return e.areaflag?"".concat(e.name," ").concat(e.areaflag):e.name}},{key:"extractDropTable",value:function(e){if(e.extra_info){var t=e.extra_info,a=t.drop_tables,o=Object(d["a"])(t,["drop_tables"]);return[Object(i["a"])({},e,{extra_info:o}),a||[]]}return[e,[]]}},{key:"showObjectInfo",value:function(e){var t=this.extractDropTable(e),a=Object(c["a"])(t,2),o=a[0],n=a[1];this.objectInfo=JSON.stringify(o,null,4),this.dropTables=n,this.sidebar.open("details"),this.eventLink=null,e.extra_info&&e.extra_info.eventSrc&&(this.eventLink="https://github.com/lepelog/skywardsword-tools/blob/output/en_US/event2/"+e.extra_info.eventSrc)}},{key:"stageIDToName",value:function(e){return S[e]}},{key:"onStageUpdate",value:function(){var e=this;fetch("".concat(g,"stages/").concat(this.currentStageID,".json")).then((function(e){return e.json()})).then((function(t){null!==e.mapOverlay&&(e.map.removeLayer(e.mapOverlay),e.mapOverlay=null);var a=b[t.stageid]||t.stageid,o=F[a];void 0!==o&&(e.mapOverlay=m["imageOverlay"]("maps/".concat(a,".png"),o).addTo(e.map)),e.currentStageMarkers.forEach((function(t){e.map.removeLayer(t)})),e.currentStageMarkers=[];var n=[];t.allObjects.forEach((function(t){if(void 0===t.sizex||void 0===t.sizez||t.sizex<150&&t.sizez<150){var a=m["marker"]([t.posx,t.posz],{title:t.name,icon:e.getIconForName(t.name)}).on("click",(function(t){e.showObjectInfo(t.target.object)}));a.object=t,a.addTo(e.map),e.currentStageMarkers.push(a)}else{var o=e.createShape(t).on("click",(function(t){e.showObjectInfo(t.target.object)}));o.object=t;var r=t.sizex*t.sizez,s=o;e.currentStageMarkers.push(s),n.push({obj:s,volume:r})}})),n.sort((function(e,t){return t.volume-e.volume})),n.forEach((function(t){t.obj.addTo(e.map)})),e.allUsedLayers=t.usedLayers.map((function(e){return{id:e,selected:!0}})),e.allUsedRooms=t.usedRooms.map((function(e){return{id:e,selected:!0}})),e.onSelectionUpdate(),e.map.flyTo([0,0])})).catch((function(e){console.log("error on stage update!",e),alert("Error on stage update!")}))}},{key:"onSelectionUpdate",value:function(){var e=this;this.currentStageMarkers.forEach((function(t){e.selectedRooms.includes(t.object.roomid)&&e.selectedLayers.includes(t.object.layerid)&&e.selectedObjectTypes.includes(t.object.type)&&t.object.name.toLowerCase().includes(e.searchTerm.toLowerCase())?e.map.hasLayer(t)||t.addTo(e.map):e.map.removeLayer(t)}))}},{key:"onSaveObjSelectionUpdate",value:function(){var e=this;this.saveObjSelection.forEach((function(t){e.saveObjMarkers[t.id].forEach((function(t){e.map.removeLayer(t)})),t.selected&&e.saveObjMarkers[t.id].forEach((function(t){t.addTo(e.map)}))}))}},{key:"toggleAllRoomsSelected",value:function(e){this.allUsedRooms.forEach((function(t){return t.selected=e})),this.onSelectionUpdate()}},{key:"toggleAllLayersSelected",value:function(e){this.allUsedLayers.forEach((function(t){return t.selected=e})),this.onSelectionUpdate()}},{key:"toggleAllSaveObjSelected",value:function(e){this.saveObjSelection.forEach((function(t){return t.selected=e})),this.onSaveObjSelectionUpdate()}},{key:"createShape",value:function(e){return m["polygon"]([this.rotate(e.posx-e.sizex/2,e.posz-e.sizez/2,e.posx,e.posz,e.angley),this.rotate(e.posx+e.sizex/2,e.posz-e.sizez/2,e.posx,e.posz,e.angley),this.rotate(e.posx+e.sizex/2,e.posz+e.sizez/2,e.posx,e.posz,e.angley),this.rotate(e.posx-e.sizex/2,e.posz+e.sizez/2,e.posx,e.posz,e.angley)])}},{key:"rotate",value:function(e,t,a,o,n){var r=Math.cos,s=Math.sin,l=-n/65536*360*(Math.PI/180),c=(e-a)*r(l)-(t-o)*s(l)+a,i=(e-a)*s(l)+(t-o)*r(l)+o;return new m["LatLng"](c,i)}},{key:"destroyed",value:function(){this.map.remove()}},{key:"selectedRooms",get:function(){return this.allUsedRooms.filter((function(e){return e.selected})).map((function(e){return e.id}))}},{key:"selectedLayers",get:function(){return this.allUsedLayers.filter((function(e){return e.selected})).map((function(e){return e.id}))}},{key:"selectedObjectTypes",get:function(){return this.allObjTypes.filter((function(e){return e.selected})).map((function(e){return e.id}))}},{key:"processedDropRates",get:function(){var e,t=this;this.hasBow,this.hasSlingshot,this.isHeroMode,this.hasBombs;var a=this.dropTables.filter((function(e){return(void 0===e.hasBow||e.hasBow===t.hasBow)&&(void 0===e.hasSlingshot||e.hasSlingshot===t.hasSlingshot)&&(void 0===e.isHeroMode||e.isHeroMode===t.isHeroMode)&&(void 0===e.hasBombs||e.hasBombs===t.hasBombs)}))[0];return Object.entries(null!==(e=null===a||void 0===a?void 0:a.dropRates)&&void 0!==e?e:{})}}]),a}(v["b"]);Object(h["a"])([Object(v["c"])("searchTerm")],_.prototype,"onSelectionUpdate",null),Object(h["a"])([Object(v["c"])("allRoomsSelected")],_.prototype,"toggleAllRoomsSelected",null),Object(h["a"])([Object(v["c"])("allLayersSelected")],_.prototype,"toggleAllLayersSelected",null),Object(h["a"])([Object(v["c"])("allSaveObjSelected")],_.prototype,"toggleAllSaveObjSelected",null),_=Object(h["a"])([Object(v["a"])({})],_);var k=_,L=k,j=(a("c4e2"),a("2877")),D=Object(j["a"])(L,s,l,!1,null,null,null),O=D.exports,B={name:"App",components:{ObjMap:O}},w=B,T=(a("034f"),Object(j["a"])(w,n,r,!1,null,null,null)),x=T.exports;a("b2a2"),a("8890"),a("6755");o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(x)}}).$mount("#app")}});
//# sourceMappingURL=app.27aad712.js.map